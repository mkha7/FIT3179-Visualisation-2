<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malaysian Property Market</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        body {
            font-family: 'Sans-serif', Arial, sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            color: #2C3E50;
            margin: 50px 0 20px;
            font-size: 2.5em;
        }

        .centered {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin-bottom: 50px;
        }

        .visualization {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
        }

        .description {
            font-size: 18px;
            color: #555;
            text-align: center;
            margin-bottom: 40px;
            padding: 0 10%;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            font-size: 16px;
            color: #777;
        }

        .highlight {
            color: #2C3E50;
            font-weight: bold;
        }

        .data-link {
            color: #2980b9;
            text-decoration: none;
            font-weight: bold;
        }

        .data-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <h1>Malaysian Property Market</h1>

    <!-- Property Transactions in Malaysia -->
    <div class="centered">
        <div id="vis1" class="visualization"></div>
        <div class="description">
            This visualization provides an overview of property transactions across Malaysia, focusing on the distinction between <span class="highlight">East Malaysia</span> and <span class="highlight">West Malaysia</span>. It shows the number of transactions and the value of these transactions in billions. Explore how the property market differs between regions, with West Malaysia generally experiencing more transactions compared to East Malaysia.
        </div>
    </div>

    <!-- House Price Index by State -->
    <div class="centered">
        <div id="vis2" class="visualization"></div>
        <div class="description">
            The <span class="highlight">House Price Index (HPI)</span> is an important indicator of the health of the housing market. This chart shows the HPI for different Malaysian states in 2023, with the highest HPI in <span class="highlight">Kuala Lumpur</span> and the lowest in <span class="highlight">Kelantan</span>. The color gradient represents the year-on-year percentage change, providing insights into which regions are experiencing growth or stagnation in housing prices.
        </div>
    </div>

    <!-- Affordability: Income-to-Price Ratios -->
    <div class="centered">
        <div id="vis3" class="visualization"></div>
        <div class="description">
            Affordability is a key concern for homebuyers, and this scatterplot visualizes the relationship between <span class="highlight">income-to-price ratios</span> and <span class="highlight">median property prices</span> across Malaysian states in 2023. Kuala Lumpur has one of the highest property prices, making it less affordable for the average citizen, while other regions show varying degrees of affordability.
        </div>
    </div>

    <!-- Rental Prices and Yields in Malaysian States -->
    <div class="centered">
        <div id="vis4" class="visualization"></div>
        <div class="description">
            This bar graph compares the <span class="highlight">rental yields</span> and <span class="highlight">median rental prices</span> across different states in Malaysia. <span class="highlight">Kuala Lumpur</span> stands out with the highest rental prices, while <span class="highlight">Perlis</span> has the lowest. Rental yields, on the other hand, provide insights into how profitable renting out properties can be in each state, helping investors decide where to invest.
        </div>
    </div>

    <!-- Housing Supply and Demand in Malaysian States -->
    <div class="centered">
        <div id="vis5" class="visualization"></div>
        <div class="description">
            This scatterplot compares <span class="highlight">housing supply</span> and <span class="highlight">demand</span> across Malaysian states in 2023. The x-axis represents sales performance (how well properties are selling), while the y-axis represents the vacancy rate. The size of the circles corresponds to the number of new property launches in each state. This visualization helps understand which states are experiencing higher housing supply and how this affects demand and vacancy rates.
        </div>
    </div>

    <footer>
        Visualization by Muhammad Mustafa Khan<br>
        Data set used: <a class="data-link" href="https://raw.githubusercontent.com/mkha7/real-estate-visualization/refs/heads/main/House%20Price%20Index%20-%20Malaysia%20-%20Sheet1.csv" target="_blank">Malaysian government data</a>
    </footer>

    <script type="text/javascript">
        // Embed visualization 1 (Property Transactions in Malaysia)
        vegaEmbed('#vis1', 'visualization.vl (10).json').catch(console.error);
        
        // Embed visualization 2 (House Price Index by State)
        vegaEmbed('#vis2', 'visualization.vl (11).json').catch(console.error);

        // Embed visualization 3 (Affordability: Income-to-Price Ratios)
        vegaEmbed('#vis3', 'visualization.vl (12).json').catch(console.error);

        // Embed visualization 4 (Rental Prices and Yields in Malaysian States)
        vegaEmbed('#vis4', 'visualization.vl (13).json').catch(console.error);

        // Embed visualization 5 (Housing Supply and Demand in Malaysian States)
        vegaEmbed('#vis5', 'visualization.vl (14).json').catch(console.error);
    </script>

</body>
</html>
